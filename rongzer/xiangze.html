<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>项目中组件用法 | 回到开始</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/logo.ico">
    <link rel="mainifest" href="/maifest.json">
    <meta name="description" content="mtx">
    
    <link rel="preload" href="/assets/css/0.styles.2206128a.css" as="style"><link rel="preload" href="/assets/js/app.6e8a8cbc.js" as="script"><link rel="preload" href="/assets/js/3.55062257.js" as="script"><link rel="preload" href="/assets/js/48.9eb9ddb1.js" as="script"><link rel="preload" href="/assets/js/19.514f50f0.js" as="script"><link rel="preload" href="/assets/js/1.1481a5a5.js" as="script"><link rel="prefetch" href="/assets/js/10.b4732a00.js"><link rel="prefetch" href="/assets/js/11.8426ccbb.js"><link rel="prefetch" href="/assets/js/12.e54a4de7.js"><link rel="prefetch" href="/assets/js/13.e136c56d.js"><link rel="prefetch" href="/assets/js/14.e16f40a7.js"><link rel="prefetch" href="/assets/js/15.91edaa0d.js"><link rel="prefetch" href="/assets/js/16.86d1fedf.js"><link rel="prefetch" href="/assets/js/17.acb05440.js"><link rel="prefetch" href="/assets/js/18.2812e8dd.js"><link rel="prefetch" href="/assets/js/20.c007b478.js"><link rel="prefetch" href="/assets/js/21.2c74d61e.js"><link rel="prefetch" href="/assets/js/22.4aa58ccc.js"><link rel="prefetch" href="/assets/js/23.b9b51870.js"><link rel="prefetch" href="/assets/js/24.a3744042.js"><link rel="prefetch" href="/assets/js/25.e2d12ed0.js"><link rel="prefetch" href="/assets/js/26.3823e212.js"><link rel="prefetch" href="/assets/js/27.ddaef6ef.js"><link rel="prefetch" href="/assets/js/28.c30a010a.js"><link rel="prefetch" href="/assets/js/29.7e5733cd.js"><link rel="prefetch" href="/assets/js/30.534ab3e0.js"><link rel="prefetch" href="/assets/js/31.c3b98a4e.js"><link rel="prefetch" href="/assets/js/32.b02e3a06.js"><link rel="prefetch" href="/assets/js/33.718780ce.js"><link rel="prefetch" href="/assets/js/34.05aff9a0.js"><link rel="prefetch" href="/assets/js/35.1d24a686.js"><link rel="prefetch" href="/assets/js/36.6ebf862f.js"><link rel="prefetch" href="/assets/js/37.45cc95ed.js"><link rel="prefetch" href="/assets/js/38.b278e127.js"><link rel="prefetch" href="/assets/js/39.6e2cc342.js"><link rel="prefetch" href="/assets/js/4.a5cba47c.js"><link rel="prefetch" href="/assets/js/40.22600eb7.js"><link rel="prefetch" href="/assets/js/41.eab6d1fe.js"><link rel="prefetch" href="/assets/js/42.b4623c3b.js"><link rel="prefetch" href="/assets/js/43.b89c2687.js"><link rel="prefetch" href="/assets/js/44.b213764f.js"><link rel="prefetch" href="/assets/js/45.8368e94f.js"><link rel="prefetch" href="/assets/js/46.e2f9e1b5.js"><link rel="prefetch" href="/assets/js/47.409d1e08.js"><link rel="prefetch" href="/assets/js/49.354862c7.js"><link rel="prefetch" href="/assets/js/5.5de6ab0f.js"><link rel="prefetch" href="/assets/js/50.be1c44a5.js"><link rel="prefetch" href="/assets/js/51.1b09dc3c.js"><link rel="prefetch" href="/assets/js/52.1e27906d.js"><link rel="prefetch" href="/assets/js/53.f31896e2.js"><link rel="prefetch" href="/assets/js/54.873b71bd.js"><link rel="prefetch" href="/assets/js/55.381f672d.js"><link rel="prefetch" href="/assets/js/56.01d37ad1.js"><link rel="prefetch" href="/assets/js/57.668ee060.js"><link rel="prefetch" href="/assets/js/58.580282af.js"><link rel="prefetch" href="/assets/js/59.1c8a7560.js"><link rel="prefetch" href="/assets/js/6.cb6b1467.js"><link rel="prefetch" href="/assets/js/60.d90b21ae.js"><link rel="prefetch" href="/assets/js/61.01bac9b6.js"><link rel="prefetch" href="/assets/js/62.b26d4e9a.js"><link rel="prefetch" href="/assets/js/63.efdbc6fd.js"><link rel="prefetch" href="/assets/js/7.675fb84c.js"><link rel="prefetch" href="/assets/js/8.a70db1e5.js"><link rel="prefetch" href="/assets/js/9.f40e22b3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2206128a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">回到开始</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="内容分类" class="dropdown-title"><span class="title">内容分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="内容分类" class="mobile-dropdown-title"><span class="title">内容分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vpn/" class="nav-link">
  vpn
</a></li><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/node/" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/css/" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/web/" class="nav-link">
  web
</a></li><li class="dropdown-item"><!----> <a href="/python/" class="nav-link">
  python
</a></li><li class="dropdown-item"><!----> <a href="/npm/" class="nav-link">
  npm
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="内容分类" class="dropdown-title"><span class="title">内容分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="内容分类" class="mobile-dropdown-title"><span class="title">内容分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vpn/" class="nav-link">
  vpn
</a></li><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/node/" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/css/" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/web/" class="nav-link">
  web
</a></li><li class="dropdown-item"><!----> <a href="/python/" class="nav-link">
  python
</a></li><li class="dropdown-item"><!----> <a href="/npm/" class="nav-link">
  npm
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/rongzer/" aria-current="page" class="sidebar-link">平台管理项目</a></li><li><a href="/rongzer/xiangze.html" aria-current="page" class="active sidebar-link">项目中组件用法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rongzer/xiangze.html#项目中组件用法" class="sidebar-link">项目中组件用法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rongzer/xiangze.html#一-tabcontentsection结构" class="sidebar-link">一. tabContentSection结构</a></li><li class="sidebar-sub-header"><a href="/rongzer/xiangze.html#二-例子" class="sidebar-link">二. 例子</a></li><li class="sidebar-sub-header"><a href="/rongzer/xiangze.html#三-获取-formlist-table-的值" class="sidebar-link">三. 获取 formList / table 的值</a></li><li class="sidebar-sub-header"><a href="/rongzer/xiangze.html#四-升级版" class="sidebar-link">四. 升级版</a></li><li class="sidebar-sub-header"><a href="/rongzer/xiangze.html#五-赋值给formlist中某项" class="sidebar-link">五. 赋值给formList中某项</a></li><li class="sidebar-sub-header"><a href="/rongzer/xiangze.html#六-获取list中含有指定属性的对象" class="sidebar-link">六. 获取list中含有指定属性的对象</a></li><li class="sidebar-sub-header"><a href="/rongzer/xiangze.html#七-样式设置" class="sidebar-link">七. 样式设置</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="项目中组件用法"><a href="#项目中组件用法" class="header-anchor">#</a> 项目中组件用法</h2> <div data-v-2b7f48d0></div> <h3 id="一-tabcontentsection结构"><a href="#一-tabcontentsection结构" class="header-anchor">#</a> 一. tabContentSection结构</h3> <blockquote><p>length -------------------（Number）</p> <p>title -------------------（String）</p> <p>collapse -------------------（Boolean）</p> <p>list -------------------（必， Array）</p> <blockquote><p>message -------------------（String）</p> <p>array -------------------（必， Array）</p> <blockquote><p>table：{} / formList: {} -------------------（Object）</p></blockquote> <p>button -------------------（Object）</p> <blockquote><p>class -------------------（Object）</p> <p>style -------------------（Object）</p> <p>list -------------------（Array）</p></blockquote></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 结构一览</span>
tabcontent<span class="token operator">:</span> <span class="token punctuation">{</span>
     data<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
     invokeSectionMethod<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 必写</span>
     length<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     title<span class="token operator">:</span> <span class="token string">'工程踏勘_子公司'</span><span class="token punctuation">,</span>
     collapse<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
     list<span class="token operator">:</span> <span class="token punctuation">[</span>
         <span class="token punctuation">{</span>
             message<span class="token operator">:</span> <span class="token string">'踏勘信息'</span><span class="token punctuation">,</span>
             unShow<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 当前踏勘信息是否显示，为true不显示(默认值为false)</span>
             <span class="token comment">// collapse: !options.tabcontent.collapse,</span>
             array<span class="token operator">:</span> <span class="token punctuation">[</span>
                 <span class="token punctuation">{</span>
                     formList<span class="token operator">:</span> <span class="token punctuation">{</span>
                         valueId<span class="token operator">:</span> <span class="token string">'formListRef1'</span><span class="token punctuation">,</span>
                         model<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                         isViewMode<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                         cols<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                         type<span class="token operator">:</span> <span class="token string">'table'</span><span class="token punctuation">,</span>
                         showChangeTip<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                         labelWidth<span class="token operator">:</span> <span class="token number">160</span><span class="token punctuation">,</span>
                         formItemList<span class="token operator">:</span> <span class="token punctuation">[</span>
                             <span class="token punctuation">{</span>
                                 label<span class="token operator">:</span> <span class="token string">'例1'</span><span class="token punctuation">,</span>
                                 type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
                                 append<span class="token operator">:</span> <span class="token string">'m²'</span><span class="token punctuation">,</span>
                                 placeholder<span class="token operator">:</span> <span class="token string">'请输入'</span><span class="token punctuation">,</span>
                                 name<span class="token operator">:</span> <span class="token string">'x1'</span><span class="token punctuation">,</span>
                                 validator<span class="token operator">:</span> <span class="token punctuation">[</span>
                                     <span class="token punctuation">{</span>
                                         required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                                         message<span class="token operator">:</span> <span class="token string">'不能为空'</span><span class="token punctuation">,</span>
                                         trigger<span class="token operator">:</span> <span class="token string">'change'</span>
                                     <span class="token punctuation">}</span>
                                 <span class="token punctuation">]</span>
                             <span class="token punctuation">}</span><span class="token punctuation">,</span>
                             <span class="token punctuation">{</span>
                                 label<span class="token operator">:</span> <span class="token string">'upload'</span><span class="token punctuation">,</span>
                                 type<span class="token operator">:</span> <span class="token string">'custom'</span><span class="token punctuation">,</span>
                                 component<span class="token operator">:</span> <span class="token string">'formUploadSection'</span><span class="token punctuation">,</span>
                                 config<span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// 没有config默认是摄像头样式</span>
                                     defineWord<span class="token operator">:</span> <span class="token string">'上传文件'</span><span class="token punctuation">,</span>
                                 <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                 name<span class="token operator">:</span> <span class="token string">'x2'</span>
                             <span class="token punctuation">}</span><span class="token punctuation">,</span>
                         <span class="token punctuation">]</span>
                     <span class="token punctuation">}</span>
                 <span class="token punctuation">}</span>
             <span class="token punctuation">]</span><span class="token punctuation">,</span>
             button<span class="token operator">:</span> <span class="token punctuation">{</span>
             <span class="token punctuation">}</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">{</span>
             message<span class="token operator">:</span> <span class="token string">'踏勘分析'</span><span class="token punctuation">,</span>
             array<span class="token operator">:</span> <span class="token punctuation">[</span>
                 <span class="token punctuation">{</span>
                     table<span class="token operator">:</span> <span class="token punctuation">{</span>
                         valueId<span class="token operator">:</span> <span class="token string">'tableRef1'</span><span class="token punctuation">,</span>
                         localData<span class="token operator">:</span> <span class="token punctuation">[</span>
                             <span class="token punctuation">{</span>
                                 y1<span class="token operator">:</span> <span class="token string">'11111'</span><span class="token punctuation">,</span>
                             <span class="token punctuation">}</span>
                         <span class="token punctuation">]</span><span class="token punctuation">,</span>
                         columns<span class="token operator">:</span> <span class="token punctuation">[</span>
                             <span class="token punctuation">{</span>
                                 title<span class="token operator">:</span> <span class="token string">'操作'</span><span class="token punctuation">,</span>
                                 buttons<span class="token operator">:</span> <span class="token punctuation">[</span>
                                     <span class="token punctuation">{</span>
                                         name<span class="token operator">:</span> <span class="token string">'查看'</span><span class="token punctuation">,</span>
                                         onClick<span class="token operator">:</span> <span class="token string">'on-preview'</span>
                                     <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                 <span class="token punctuation">]</span>
                             <span class="token punctuation">}</span><span class="token punctuation">,</span>
                             <span class="token punctuation">{</span>
                                 title<span class="token operator">:</span> <span class="token string">'例2'</span><span class="token punctuation">,</span>
                                 key<span class="token operator">:</span> <span class="token string">'y1'</span>
                             <span class="token punctuation">}</span><span class="token punctuation">,</span>
                         <span class="token punctuation">]</span>
                     <span class="token punctuation">}</span>
                 <span class="token punctuation">}</span>
             <span class="token punctuation">]</span><span class="token punctuation">,</span>
             button<span class="token operator">:</span> <span class="token punctuation">{</span>
                 style<span class="token operator">:</span> <span class="token punctuation">{</span>
                     <span class="token string">'text-align'</span><span class="token operator">:</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
                     margin<span class="token operator">:</span> <span class="token string">'5px 0px'</span><span class="token punctuation">,</span>
                     position<span class="token operator">:</span> <span class="token string">'absolute'</span><span class="token punctuation">,</span>
                     right<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                     top<span class="token operator">:</span> <span class="token string">'-0'</span>
                 <span class="token punctuation">}</span><span class="token punctuation">,</span>
                 list<span class="token operator">:</span> <span class="token punctuation">[</span>
                     <span class="token punctuation">{</span>
                         name<span class="token operator">:</span> <span class="token string">'添加'</span><span class="token punctuation">,</span>
                         type<span class="token operator">:</span> <span class="token string">'default'</span><span class="token punctuation">,</span>
                         size<span class="token operator">:</span> <span class="token string">'default'</span><span class="token punctuation">,</span>
                         onClick<span class="token operator">:</span> <span class="token string">'on-add'</span>
                     <span class="token punctuation">}</span><span class="token punctuation">,</span>
                 <span class="token punctuation">]</span>
             <span class="token punctuation">}</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">]</span>
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br></div></div></blockquote> <h3 id="二-例子"><a href="#二-例子" class="header-anchor">#</a> 二. 例子</h3> <blockquote><div class="image-preview"><div heght="100%" class="van-image" style="width:100%;"><img src="/tableContentSection1.png" class="van-image__img" style="object-fit:cover;"><div class="van-image__loading"><i class="van-icon van-icon-photo-o van-image__loading-icon"><!----></i></div></div> <!----></div> <blockquote><div class="image-preview"><div heght="100%" class="van-image" style="width:100%;"><img src="/code1.png" class="van-image__img" style="object-fit:cover;"><div class="van-image__loading"><i class="van-icon van-icon-photo-o van-image__loading-icon"><!----></i></div></div> <!----></div></blockquote></blockquote> <hr> <blockquote><div class="image-preview"><div heght="100%" class="van-image" style="width:100%;"><img src="/tableContentSection2.png" class="van-image__img" style="object-fit:cover;"><div class="van-image__loading"><i class="van-icon van-icon-photo-o van-image__loading-icon"><!----></i></div></div> <!----></div> <blockquote><div class="image-preview"><div heght="100%" class="van-image" style="width:100%;"><img src="/code2.png" class="van-image__img" style="object-fit:cover;"><div class="van-image__loading"><i class="van-icon van-icon-photo-o van-image__loading-icon"><!----></i></div></div> <!----></div></blockquote></blockquote> <hr> <blockquote><div class="image-preview"><div heght="100%" class="van-image" style="width:100%;"><img src="/tableContentSection3.png" class="van-image__img" style="object-fit:cover;"><div class="van-image__loading"><i class="van-icon van-icon-photo-o van-image__loading-icon"><!----></i></div></div> <!----></div> <blockquote><div class="image-preview"><div heght="100%" class="van-image" style="width:100%;"><img src="/code3.png" class="van-image__img" style="object-fit:cover;"><div class="van-image__loading"><i class="van-icon van-icon-photo-o van-image__loading-icon"><!----></i></div></div> <!----></div></blockquote> <p>list数组中每项有collapse，是控制'踏勘信息'、'踏勘分析'这种小类的收起、展开。<br>
而list数组同级的collapse，控制'工程踏勘_子公司'这种大类的</p></blockquote> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <blockquote><p>注意：</p></blockquote> <p>array中，每个formList / table 都应该有个 唯一的 valueId， 例如：</p> <blockquote><div class="image-preview"><div heght="100%" class="van-image" style="width:100%;"><img src="/valueId.png" class="van-image__img" style="object-fit:cover;"><div class="van-image__loading"><i class="van-icon van-icon-photo-o van-image__loading-icon"><!----></i></div></div> <!----></div> <p>名字可以自定义，和下文startValidate一起使用</p></blockquote></div> <h3 id="三-获取-formlist-table-的值"><a href="#三-获取-formlist-table-的值" class="header-anchor">#</a> 三. 获取 formList / table 的值</h3> <br> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>main<span class="token operator">:</span> <span class="token punctuation">{</span>
  tabcontent<span class="token operator">:</span> <span class="token punctuation">{</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    invokeSectionMethod<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    title<span class="token operator">:</span> <span class="token string">'工程踏勘_子公司'</span><span class="token punctuation">,</span>
    collapse<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    list<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        array<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 新增属性： data、 invokeSectionMethod</span>

<span class="token comment">// 注：每个formList、table都必须有一个valueId, 例如： array[0].formList.valueId = 'formRef1'</span>

<span class="token comment">/*******************如果没有valueId，就会忽略******************/</span>
<span class="token comment">/*******************如果没有valueId，就会忽略******************/</span>
<span class="token comment">/*******************如果没有valueId，就会忽略******************/</span>

options<span class="token punctuation">.</span>main<span class="token punctuation">.</span>tabcontent<span class="token punctuation">.</span>invokeSectionMethod <span class="token operator">=</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'table'</span><span class="token punctuation">,</span> <span class="token comment">// 'table', 'formList', 'all'， 默认'all'</span>
    ref<span class="token operator">:</span> <span class="token string">'tableRef1'</span><span class="token punctuation">,</span> <span class="token comment">// 唯一标识id, 即array每项中的valueId</span>
    name<span class="token operator">:</span> <span class="token string">'reload'</span><span class="token punctuation">,</span> <span class="token comment">// noco上的方法</span>
    status<span class="token operator">:</span> <span class="token string">'save'</span><span class="token punctuation">,</span> <span class="token comment">// 'save', 'submit'（必要参数），且submit使用formList</span>
    params<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 参数 （例如table下，name为reload时刷新表格）</span>
    <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// function：回调函数</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 例如：</span>
options<span class="token punctuation">.</span>main<span class="token punctuation">.</span>tabcontent<span class="token punctuation">.</span>invokeSectionMethod <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 默认不写type和 type: all时一个意思。获取所有table、formList</span>
    status<span class="token operator">:</span> <span class="token string">'save'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
options<span class="token punctuation">.</span>main<span class="token punctuation">.</span>tabcontent<span class="token punctuation">.</span>invokeSectionMethod <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 将所有table表格的值取出来</span>
    type<span class="token operator">:</span> <span class="token string">'table'</span><span class="token punctuation">,</span>
    status<span class="token operator">:</span> <span class="token string">'save'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
options<span class="token punctuation">.</span>main<span class="token punctuation">.</span>tabcontent<span class="token punctuation">.</span>invokeSectionMethod <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 将table表格中为tableRef1的值取出来</span>
    type<span class="token operator">:</span> <span class="token string">'table'</span><span class="token punctuation">,</span>
    ref<span class="token operator">:</span> <span class="token string">'tableRef1'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'getTableData'</span>
    status<span class="token operator">:</span> <span class="token string">'save'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 取出来的值放在options.main.tabcontent.data中</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div></div> <h3 id="四-升级版"><a href="#四-升级版" class="header-anchor">#</a> 四. 升级版</h3> <blockquote><p>因为options.main.tabcontent.invokeSectionMethod 赋值给data 的操作是异步的，实际应用会麻烦</p> <p>所以 又写了个通用方法:</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 两个参数： </span>
<span class="token comment">// 第一个（新增）： options, 目标，例如：options.main.tabcontent</span>
<span class="token comment">// 第二个： 对象，用法和第三条一样， status必传，</span>
<span class="token comment">// 第三个：this，在vue文件中用this, 在js文件中用vm</span>

vm<span class="token punctuation">.</span>$methodsJs<span class="token punctuation">.</span><span class="token function">invokeSectionMethod</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token punctuation">{</span>status<span class="token operator">:</span> <span class="token string">'save'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 子页面</span>
<span class="token comment">// 用法和之前一样，将methods导出去</span>
<span class="token keyword">let</span> events <span class="token operator">=</span> <span class="token punctuation">{</span>
    $page<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'on-ready'</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            vm<span class="token punctuation">.</span>litOptions<span class="token punctuation">.</span>methods <span class="token operator">=</span> methods<span class="token punctuation">;</span>
            next <span class="token operator">&amp;&amp;</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    main<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'on-back'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">oninit1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> methods <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 之前</span>
        <span class="token comment">// options.main.tabcontent.invokeSectionMethod = {</span>
        <span class="token comment">//     // 默认不写type和 type: all时一个意思。获取所有table、formList</span>
        <span class="token comment">//     status: 'save',</span>
        <span class="token comment">//     callback: () =&gt; {}</span>
        <span class="token comment">// };</span>

        <span class="token comment">// 现在</span>
        <span class="token keyword">return</span> vm<span class="token punctuation">.</span>$methodsJs<span class="token punctuation">.</span><span class="token function">invokeSectionMethod</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token punctuation">{</span>status<span class="token operator">:</span> <span class="token string">'save'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> vm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 父页面</span>
<span class="token comment">// 逻辑自己写, 重点是调用 vm.litOptions.methods.save 方法后</span>
<span class="token comment">// 返回的res是一个 promise 对象, 可以 .then的形式 获取 数据</span>
<span class="token keyword">let</span> events <span class="token operator">=</span> <span class="token punctuation">{</span>
    main<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'on-save'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> o <span class="token operator">=</span> vm<span class="token punctuation">.</span>$methodsJs<span class="token punctuation">.</span><span class="token function">getListAttr</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>main<span class="token punctuation">.</span>tabcontent<span class="token punctuation">,</span> <span class="token string">'_this'</span><span class="token punctuation">,</span> <span class="token string">'flag'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            o<span class="token punctuation">.</span>tabs<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>v<span class="token punctuation">.</span>litOptions<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>save<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
                <span class="token keyword">let</span> res <span class="token operator">=</span> v<span class="token punctuation">.</span>litOptions<span class="token punctuation">.</span>methods<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                res<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span> <span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'reslove1111'</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">'on-reset'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">'on-submit'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><blockquote><div class="image-preview"><div heght="100%" class="van-image" style="width:100%;"><img src="/invokeSectionMethod.jpg" class="van-image__img" style="object-fit:cover;"><div class="van-image__loading"><i class="van-icon van-icon-photo-o van-image__loading-icon"><!----></i></div></div> <!----></div></blockquote> <h3 id="五-赋值给formlist中某项"><a href="#五-赋值给formlist中某项" class="header-anchor">#</a> 五. 赋值给formList中某项</h3> <blockquote><div class="image-preview"><div heght="100%" class="van-image" style="width:100%;"><img src="/setFormValue.png" class="van-image__img" style="object-fit:cover;"><div class="van-image__loading"><i class="van-icon van-icon-photo-o van-image__loading-icon"><!----></i></div></div> <!----></div> <p>代码如下：
</p></blockquote> <blockquote><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> events <span class="token operator">=</span> <span class="token punctuation">{</span>
 <span class="token comment">// 1. 先获取table表格数据</span>
 main<span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token string">'on-click'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     <span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
         type<span class="token operator">:</span> <span class="token string">'table'</span><span class="token punctuation">,</span>
         ref<span class="token operator">:</span> <span class="token string">'dataRef1'</span><span class="token punctuation">,</span>
         name<span class="token operator">:</span> <span class="token string">'getTableData'</span><span class="token punctuation">,</span>
         status<span class="token operator">:</span> <span class="token string">'save'</span>
     <span class="token punctuation">}</span><span class="token punctuation">;</span>
     options<span class="token punctuation">.</span>main<span class="token punctuation">.</span>invokeSectionMethod <span class="token operator">=</span> <span class="token punctuation">{</span>
         <span class="token operator">...</span>o<span class="token punctuation">,</span>
         <span class="token comment">// fn: methods.fn(o.ref)</span>
         callback<span class="token operator">:</span> methods<span class="token punctuation">.</span>fn
     <span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> methods <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment">// 2. 遍历去到的数据累加</span>
       <span class="token keyword">let</span> res <span class="token operator">=</span> options<span class="token punctuation">.</span>main<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token string">'dataRef1'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
           <span class="token keyword">return</span>（x<span class="token punctuation">.</span>age5 <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">(</span>y<span class="token punctuation">.</span>age5 <span class="token operator">/</span> <span class="token number">1</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">// 3. 将累加的值 赋值给某项</span>
       vm<span class="token punctuation">.</span>$methodsJs<span class="token punctuation">.</span><span class="token function">setFormValue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          list<span class="token operator">:</span> options<span class="token punctuation">.</span>main<span class="token punctuation">.</span>list<span class="token punctuation">,</span> <span class="token comment">// (必要)</span>
          ref<span class="token operator">:</span> <span class="token string">'formListRef1'</span><span class="token punctuation">,</span> <span class="token comment">// (必要)</span>
          model<span class="token operator">:</span> <span class="token string">'ownerLinkMan'</span><span class="token punctuation">,</span>  <span class="token comment">// (见下)</span>
          res<span class="token operator">:</span> res<span class="token punctuation">,</span> <span class="token comment">// (必要)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div></blockquote> <p>上面说过了挂载公共方法到methodsJs上（见上一章最后）</p> <p><span style="color:#a1b5a8;">setFormValue这个方法的四个参数可以理解为：</span></p> <p><span style="background:#fff1f1;padding:5px;">找到invokeSectionMethod属性同级的list中，一个valueId叫 formListRef1 的表单，将这个表单参数model中的  ownerLinkMan 的值 修改成 传入的值 res。<br> <strong>如果参数model没写，则res赋值给整个model</strong> <strong>如果参数model赋值其中两个， model: ['ownerLinkMan1', 'ownerLinkMan2']</strong></span></p> <p><strong style="color:red;">注意：</strong></p> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>因为使用 options.main.invokeSectionMethod --
----- 将获取的值，放在 options.main.data 是异步操作， --
----- 所以有两种写法： --
----- 1. 将方法写在callback中
----- 2. this.$nextTick( () =&gt; { ... })</p></div> <h3 id="六-获取list中含有指定属性的对象"><a href="#六-获取list中含有指定属性的对象" class="header-anchor">#</a> 六. 获取list中含有指定属性的对象</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
    main<span class="token operator">:</span> <span class="token punctuation">{</span>
        tabcontent<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                title<span class="token operator">:</span> <span class="token string">'立项申请'</span><span class="token punctuation">,</span>
                collapse<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                list<span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        array<span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token punctuation">{</span>
                                tab<span class="token operator">:</span> <span class="token punctuation">{</span>
                                    current<span class="token operator">:</span> <span class="token string">'tab1'</span><span class="token punctuation">,</span>
                                    tabs<span class="token operator">:</span> <span class="token punctuation">[</span>
                                        <span class="token punctuation">{</span>
                                            label<span class="token operator">:</span> <span class="token string">'审批结果'</span><span class="token punctuation">,</span>
                                            page<span class="token operator">:</span> <span class="token string">'designResultPage'</span><span class="token punctuation">,</span>
                                            name<span class="token operator">:</span> <span class="token string">'tab1'</span><span class="token punctuation">,</span>
                                            litOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                                              methods<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
                                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                        <span class="token punctuation">{</span>
                                            label<span class="token operator">:</span> <span class="token string">'项目基本信息'</span><span class="token punctuation">,</span>
                                            page<span class="token operator">:</span> <span class="token string">'applicationInfoPage'</span><span class="token punctuation">,</span>
                                            name<span class="token operator">:</span> <span class="token string">'tab2'</span><span class="token punctuation">,</span>
                                            litOptions<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
                                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                    <span class="token punctuation">]</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// &gt; 现在要获取 litOptions 中 methods的值</span>
<span class="token comment">// &gt; 正常写法： options.main.tabcontent[0].list[0].array[0].tab.tabs[0].litOptions.methods</span>
<span class="token comment">// &gt; 使用全局方法：vm.$methodsJs.getListAttr(options.main.tabcontent, 'tab1');</span>
<span class="token comment">// &gt; 返回当前属性所在对象， 即： </span>
<span class="token comment">// {</span>
<span class="token comment">//     label: '审批结果',</span>
<span class="token comment">//     page: 'designResultPage',</span>
<span class="token comment">//     name: 'tab1',</span>
<span class="token comment">//     litOptions: {</span>
<span class="token comment">//       methods: {}</span>
<span class="token comment">//     },</span>
<span class="token comment">// },</span>
<span class="token comment">// &gt; 默认查找name属性， 如果要找label，则</span>
<span class="token comment">// &gt; vm.$methodsJs.getListAttr(options.main.tabcontent, '审批结果', 'label');</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>应用：<br></p> <blockquote><div class="image-preview"><div heght="100%" class="van-image" style="width:100%;"><img src="/getListAttr1.png" class="van-image__img" style="object-fit:cover;"><div class="van-image__loading"><i class="van-icon van-icon-photo-o van-image__loading-icon"><!----></i></div></div> <!----></div> <p>点击暂存按钮，这时候需要获取 开工报告、工程保修....页面的数据</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//  在开工报告子页面中，将方法给litOptions</span>
<span class="token keyword">let</span> events <span class="token operator">=</span> <span class="token punctuation">{</span>
    $page<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'on-ready'</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            vm<span class="token punctuation">.</span>litOptions<span class="token punctuation">.</span>methods <span class="token operator">=</span> methods<span class="token punctuation">[</span><span class="token string">'testMethod'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">// vm.litOptions.methods.testMethod = methods['testMethod'];</span>
            <span class="token comment">// vm.litOptions.methods.testMethod1 = methods['testMethod1'];</span>
            next <span class="token operator">&amp;&amp;</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> methods <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'testMethod'</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'this is tabs methods'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'testMethod1'</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 在父页面中</span>
<span class="token keyword">let</span> events <span class="token operator">=</span> <span class="token punctuation">{</span>
    main<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 暂存按钮save方法</span>
        <span class="token string">'on-save'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> a <span class="token operator">=</span> vm<span class="token punctuation">.</span>$methodsJs<span class="token punctuation">.</span><span class="token function">getListAttr</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>main<span class="token punctuation">.</span>tabcontent<span class="token punctuation">,</span> <span class="token string">'tab1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            a<span class="token punctuation">.</span>litOptions<span class="token punctuation">.</span><span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token comment">// a.litOptions.methods.testMethod()</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div></div> <h3 id="七-样式设置"><a href="#七-样式设置" class="header-anchor">#</a> 七. 样式设置</h3> <blockquote><div class="image-preview"><div heght="100%" class="van-image" style="width:100%;"><img src="/setClassName1.jpg" class="van-image__img" style="object-fit:cover;"><div class="van-image__loading"><i class="van-icon van-icon-photo-o van-image__loading-icon"><!----></i></div></div> <!----></div> <p>一般只有厨房图纸设计 这一个可以折叠大类， 现在要求有两个大类
<div class="image-preview"><div heght="100%" class="van-image" style="width:100%;"><img src="/setClassName-code1.jpg" class="van-image__img" style="object-fit:cover;"><div class="van-image__loading"><i class="van-icon van-icon-photo-o van-image__loading-icon"><!----></i></div></div> <!----></div></p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code>layout<span class="token operator">:</span> <span class="token punctuation">{</span>
    componentList<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'section'</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'kitchenDesignWrap'</span><span class="token punctuation">,</span>
            componentList<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    name<span class="token operator">:</span> <span class="token string">'topInfo'</span><span class="token punctuation">,</span>
                    component<span class="token operator">:</span> <span class="token string">'topInfoSection'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    type<span class="token operator">:</span> <span class="token string">'section'</span><span class="token punctuation">,</span>
                    <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// </span>
                    componentList<span class="token operator">:</span> <span class="token punctuation">[</span>
                        <span class="token punctuation">{</span>
                            name<span class="token operator">:</span> <span class="token string">'main'</span><span class="token punctuation">,</span>
                            component<span class="token operator">:</span> <span class="token string">'publicSection'</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{</span>
                            name<span class="token operator">:</span> <span class="token string">'ex1'</span><span class="token punctuation">,</span>
                            component<span class="token operator">:</span> <span class="token string">'publicSection'</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">1/18/2021, 6:16:32 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/rongzer/" class="prev router-link-active">
        平台管理项目
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6e8a8cbc.js" defer></script><script src="/assets/js/3.55062257.js" defer></script><script src="/assets/js/48.9eb9ddb1.js" defer></script><script src="/assets/js/19.514f50f0.js" defer></script><script src="/assets/js/1.1481a5a5.js" defer></script>
  </body>
</html>
